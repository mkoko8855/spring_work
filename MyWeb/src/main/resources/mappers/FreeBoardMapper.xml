<?xml version="1.0" encoding="UTF-8"?>
<!-- xmlfile 4 -->

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper
	namespace="com.spring.myweb.freeboard.mapper.IFreeBoardMapper">  <!-- freeBoardMapper가서 패키지 빼고 복붙 후 IFreeBoardMapper적어줌 -->

	<!-- insert부터 테스트 진행 해보자 -->
	<insert id="regist"> <!-- id는 내가 구현하고자 하는 추상메서드 이름! -->
		INSERT INTO freeboard
		(title, writer, content)
		VALUES(#{title}, #{writer}, #{content}) <!-- 괄호엔 매개값이 무엇이냐에 따라 다름. 레지스트 메서드는 FreeBoardVO를 받으니 객체가 온다. 객체 안에서 꺼내서 값을 채워주자. 변수명만입력하면되긴하는데 변수명이라고 했다고 게터세터명을 작성하면 절대 안된다. -->
	</insert>

	
	<select id="getList" resultType="board"> <!-- 여기 board는 mybatis-config에서 설정해줘서 이렇게 적었음. -->
		SELECT * FROM freeboard
		ORDER BY bno DESC
	</select>


	<select id="getContent" resultType="board"> <!-- board대신에 원래는 resultMap을 썼었어야했다. 위에 리절트맵을 선언하고 타입을 패키지 경로로 되게 길게 썼었는데 훨씬 편해졌다. -->
		SELECT * FROM freeboard
		WHERE bno = #{bno} <!-- #괄호에는 getContent라는 메서드가 받는 매개값을 확인해라. FreeBoardMapper에 int bno라고적혀있다. -->
	</select>




	<update id="update">
	<!-- UPDATE table_name SET name = '테스트 변경', country = '대한민국' WHERE id = 1105; -->
		UPDATE freeboard SET title = #{title}, content=#{content},
		update_date = current_timestamp
		WHERE bno = #{bno}
	</update>



	
	<delete id="delete">
	
		DELETE FROM freeboard
		WHERE bno=#{bno}
	
	</delete>





</mapper>